<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Candle For Jürgen</title>

<style>
  body {
    margin: 0;
    height: 100vh;
    background-color: black;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    flex-direction: column;
  }

  #candle {
    width: 150px;
    height: auto;
    margin-bottom: 40px;
  }

  #text {
    font-family: 'Arial', sans-serif;
    font-size: 3em;
    color: #40E0D0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    position: relative;
  }

  .letter {
    opacity: 0;
    text-shadow: 0 0 5px #40E0D0, 0 0 10px #40E0D0, 0 0 15px #40E0D0;
    animation: flicker 1s infinite;
    display: inline-block;
  }

  @keyframes flicker {
    0%, 100% { opacity: 0.8; transform: translate(0, 0); }
    20% { opacity: 1; transform: translate(-1px, 1px); }
    40% { opacity: 0.9; transform: translate(1px, -1px); }
    60% { opacity: 1; transform: translate(-1px, 0); }
    80% { opacity: 0.95; transform: translate(1px, 1px); }
  }

  #text::before {
    content: '';
    position: absolute;
    width: 80%;
    height: 20%;
    background: radial-gradient(circle, rgba(64,224,208,0.4), transparent);
    z-index: -1;
    animation: auraPulse 2s infinite;
  }

  @keyframes auraPulse {
    0%, 100% { opacity: 0.4; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.05); }
  }

  /* Overlay for interaction unblock */
  #overlay {
    position: fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:black;
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
    text-align:center;
    font-size:2em;
    padding:20px;
    cursor:pointer;
    z-index:100;
  }
</style>
</head>

<body>

<!-- Appears only if autoplay is blocked -->
<div id="overlay" style="display:none;">Tap to Enable Sound</div>

<img id="candle" src="https://github.com/pl8o/Mark_OF_CAIN/blob/main/CANDLE.gif?raw=true" alt="Candle">

<div id="text"></div>

<!-- Background audio -->
<audio id="bg-music" loop preload="auto">
  <source src="https://github.com/pl8o/Mark_OF_CAIN/raw/refs/heads/main/relax.mp3" type="audio/mpeg">
</audio>

<script>
const words = ["A", "Candle", "For", "Jürgen"];
const textContainer = document.getElementById('text');
let wordIndex = 0;

function showWord() {
  textContainer.innerHTML = '';
  const word = words[wordIndex];

  for (let i = 0; i < word.length; i++) {
    const span = document.createElement('span');
    span.className = 'letter';
    span.textContent = word[i];
    span.style.animationDuration = (0.8 + Math.random() * 0.5) + 's';
    span.style.transform = `translate(${Math.random()*2-1}px, ${Math.random()*2-1}px)`;
    span.style.opacity = 1;
    textContainer.appendChild(span);
  }

  let displayTime = (word === "Jürgen") ? 3000 : 1500;
  wordIndex = (wordIndex + 1) % words.length;

  setTimeout(showWord, displayTime);
}

// Fade-in audio
function fadeAudio(audio) {
  let volume = 0;
  audio.volume = 0;
  const fadeInterval = setInterval(() => {
    volume += 0.015;
    audio.volume = volume;
    if (volume >= 0.45) {
      clearInterval(fadeInterval);
    }
  }, 120);
}

// Try autoplay
function tryAutoplay() {
  const audio = document.getElementById('bg-music');

  audio.play().then(() => {
    fadeAudio(audio);
  }).catch(() => {
    // Failed → show overlay
    document.getElementById('overlay').style.display = 'flex';
  });
}

// User taps overlay → guaranteed playback
document.getElementById('overlay').addEventListener('click', () => {
  const audio = document.getElementById('bg-music');
  audio.play().then(() => {
    fadeAudio(audio);
    document.getElementById('overlay').style.display = 'none';
  });
});

window.addEventListener('load', () => {
  setTimeout(showWord, 800);
  setTimeout(tryAutoplay, 400);
});
</script>

</body>
</html>


